/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package huffman.example;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.nio.charset.Charset;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.Arrays;

import huffman.Huffman;
import huffman.HuffmanFile;

public class App {
    public static void main(String[] args) throws IOException, ClassNotFoundException {
        // String contents = new String(
        // Files.readAllBytes(Paths.get(System.getProperty("user.dir") +
        // "/src/main/resources/test.txt")),
        // StandardCharsets.UTF_8);

        // String compressed = HuffmanFile.compress(contents);
        // PrintWriter writer = new PrintWriter(
        // new FileWriter(System.getProperty("user.dir") +
        // "/src/main/resources/compressed.hm"));
        // writer.write(compressed);
        // writer.close();

        HuffmanFile.compress(new File(System.getProperty("user.dir") +
                "/src/main/resources/test.txt"), new File(
                        System.getProperty("user.dir") +
                                "/src/main/resources/compressed.hm"));

        HuffmanFile.decompress(new File(
                System.getProperty("user.dir") +
                        "/src/main/resources/compressed.hm"),
                new File(System.getProperty("user.dir") +
                        "/src/main/resources/decompressed.txt"));

        // String serialized = Huffman.serializeTree(Huffman.encode(
        // "aaaaabbbbbbbbbccccccccccccdddddddddddddeeeeeeeeeeeeeeeefffffffffffffffffffffffffffffffffffffffffffff").root);
        // System.out.println(serialized);

        // Huffman.Node root = Huffman.deserializeTree(serialized);
        // System.out.println(Huffman.serializeTree(root));
    }
}
